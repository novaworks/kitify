!function($,i){"use strict";$(window).on("elementor/frontend/init",(function(){i.hooks.addAction("frontend/element_ready/kitify-nav-menu.default",(function(i){if(!i.data("initialized")){i.data("initialized",!0);var e,t,n="kitify-nav-hover",a="kitify-nav-hover-out",s="kitify-mobile-menu-active",o=!1;i.find(".kitify-mobile-menu").length&&(o=i.find(".kitify-mobile-menu").data("mobile-breakpoint")),r(),$(window).on("resize",r),i.find(".kitify-nav:not(.kitify-nav--vertical-sub-bottom)").hoverIntent({over:function(){$(this).addClass(n)},out:function(){var i=$(this);i.removeClass(n),i.addClass(a),setTimeout((function(){i.removeClass(a)}),200)},timeout:200,selector:".menu-item-has-children"}),Kitify.mobileAndTabletCheck()?(i.find(".kitify-nav:not(.kitify-nav--vertical-sub-bottom)").on("touchstart.kitifyNavMenu",".menu-item > a",(function(i){var e=$(i.currentTarget).closest(".menu-item");e.data("offset",$(window).scrollTop()),e.data("elemOffset",e.offset().top)})),i.find(".kitify-nav:not(.kitify-nav--vertical-sub-bottom)").on("touchend.kitifyNavMenu",".menu-item > a",(function(e){var t,a,o,l,r,f,m,u;if(e.preventDefault(),l=$(e.currentTarget),t=l.closest(".menu-item"),a=t.siblings(".menu-item.menu-item-has-children"),o=$("> a",t),r=$(".kitify-nav__sub:first",t),f=t.data("offset"),m=t.data("elemOffset"),u=t.closest(".kitify-hamburger-panel"),f!==$(window).scrollTop()||m!==t.offset().top)return!1;a[0]&&(a.removeClass(n),$(".menu-item-has-children",a).removeClass(n));if(!$(".kitify-nav__sub",t)[0]||t.hasClass(n))return o.trigger("click"),window.location.href=o.attr("href"),i.find(".kitify-nav-wrap").hasClass(s)&&i.find(".kitify-nav-wrap").removeClass(s),u[0]&&u.hasClass("open-state")&&(u.removeClass("open-state"),$("html").removeClass("kitify-hamburger-panel-visible")),!1;r[0]&&t.addClass(n)})),$(document).on("touchstart.kitifyNavMenu",(function(i){t=$(window).scrollTop()})),$(document).on("touchend.kitifyNavMenu",f)):i.find(".kitify-nav:not(.kitify-nav--vertical-sub-bottom)").on("click.kitifyNavMenu",".menu-item > a",(function(i){var e=$(i.currentTarget).closest(".menu-item"),t=e.closest(".kitify-hamburger-panel");e.hasClass("menu-item-has-children")&&!e.hasClass(n)||t[0]&&t.hasClass("open-state")&&(t.removeClass("open-state"),$("html").removeClass("kitify-hamburger-panel-visible"))})),Kitify.isEditMode()||(e=i.find('.menu-item-link[href*="#"]'))[0]&&e.each((function(){""!==this.hash&&location.pathname===this.pathname&&function(i){var e,t=i[0].hash,n="current-menu-item",a="-50% 0% -50%";try{e=$(decodeURIComponent(t))}catch(i){return}e[0]&&(e.hasClass("elementor-menu-anchor")&&(a="300px 0% -300px"),new IntersectionObserver((function(e){e[0].isIntersecting?i.parent(".menu-item").addClass(n):i.parent(".menu-item").removeClass(n)}),{rootMargin:a}).observe(e[0]))}($(this))})),i.find(".kitify-nav--vertical-sub-bottom").on("click.kitifyNavMenu",".menu-item > a",(function(e){var t=$(e.currentTarget).closest(".menu-item"),a=t.siblings(".menu-item.menu-item-has-children"),o=$(".kitify-nav__sub:first",t),l=t.closest(".kitify-hamburger-panel");if(!t.hasClass("menu-item-has-children")||t.hasClass(n))return i.find(".kitify-nav-wrap").hasClass(s)&&i.find(".kitify-nav-wrap").removeClass(s),void(l[0]&&l.hasClass("open-state")&&(l.removeClass("open-state"),$("html").removeClass("kitify-hamburger-panel-visible")));e.preventDefault(),e.stopPropagation(),a[0]&&(a.removeClass(n),$(".menu-item-has-children",a).removeClass(n),$(".kitify-nav__sub",a).slideUp(200));o[0]&&(o.slideDown(200),t.addClass(n))})),$(document).on("click.kitifyNavMenu",(function(e){if(!i.find(".kitify-nav").hasClass("kitify-nav--vertical-sub-bottom"))return;f(e)})),$(".kitify-nav__mobile-trigger",i).on("click.kitifyNavMenu",(function(i){$(this).closest(".kitify-nav-wrap").toggleClass(s)})),"ontouchend"in window?$(document).on("touchend.kitifyMobileNavMenu",m):$(document).on("click.kitifyMobileNavMenu",m),$(".kitify-nav__mobile-close-btn",i).on("click.kitifyMobileNavMenu",(function(i){$(this).closest(".kitify-nav-wrap").removeClass(s)}));var l=!1;u(),$(window).on("resize.kitifyMobileNavMenu",u),Kitify.isEditMode()&&i.data("initialized",!1)}function r(){!1!==o&&$(window).width()<=o?i.find(".kitify-mobile-menu").addClass("kitify-active--mbmenu"):i.find(".kitify-mobile-menu").removeClass("kitify-active--mbmenu")}function f(e){var s=i.find(".kitify-nav");if(("touchend"!==e.type||t===$(window).scrollTop())&&!$(e.target).closest(s).length){var o=$(".menu-item-has-children."+n,s);o[0]&&(o.removeClass(n),o.addClass(a),setTimeout((function(){o.removeClass(a)}),200),s.hasClass("kitify-nav--vertical-sub-bottom")&&$(".kitify-nav__sub",o).slideUp(200),e.stopPropagation())}}function m(e){var n=i.find(".kitify-nav-wrap").data("mobile-layout"),a=i.find(".kitify-nav-wrap"),o=i.find(".kitify-nav__mobile-trigger"),l=i.find(".kitify-nav");"left-side"!==n&&"right-side"!==n||"touchend"===e.type&&t!==$(window).scrollTop()||$(e.target).closest(o).length||$(e.target).closest(l).length||a.hasClass(s)&&(a.removeClass(s),e.stopPropagation())}function u(){if("full-width"===i.find(".kitify-nav-wrap").data("mobile-layout")){var e=i.find(".kitify-nav");if("mobile"===elementorFrontend.getCurrentDeviceMode()){l&&e.css({left:""});var t=-e.offset().left;e.css({left:t}),l=!0}else l&&(e.css({left:""}),l=!1)}}}))}))}(jQuery,window.elementorFrontend);